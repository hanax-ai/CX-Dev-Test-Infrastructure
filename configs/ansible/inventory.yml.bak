# CX R&D Infrastructure Ansible Inventory
# 9-Server AI Research & Development Platform
# Updated: August 2, 2025 - Phase 5 Ready

all:
  children:
    # Phase 5 Services Tier (API Gateway & Web Services)
    services_servers:
      hosts:
        cx-vector-db:
          ansible_host: 192.168.10.30
          ansible_user: agent0
          server_role: vector_database
          services: [qdrant]
        cx-database:
          ansible_host: 192.168.10.35
          ansible_user: agent0
          server_role: database
          services: [postgresql, redis, pgpool]
        cx-web:
          ansible_host: 192.168.10.38
          ansible_user: agent0
          server_role: web_interface
          services: [openwebui, docker]
        cx-api-gateway:
          ansible_host: 192.168.10.39
          ansible_user: agent0
          server_role: api_gateway
          services: [fastapi, nginx]

    # Phase 4 AI Processing Tier (LLM Servers - IP Corrected)
    ai_servers:
      hosts:
        cx-llm-server-01:
          ansible_host: 192.168.10.29  # Chat Models
          ansible_user: agent0
          server_role: llm_chat
          target_models: ["llama3.1:8b", "qwen2.5:7b", "mistral:7b"]
          gpu_enabled: true
        cx-llm-server-02:
          ansible_host: 192.168.10.28  # Instruct Models
          ansible_user: agent0
          server_role: llm_instruct
          target_models: ["llama3.1:8b-instruct-q4_0", "qwen2.5:7b-instruct", "mistral:7b-instruct"]
          gpu_enabled: true
        cx-orchestration:
          ansible_host: 192.168.10.31  # Embedding/Orchestration
          ansible_user: agent0
          server_role: orchestration_embeddings
          target_models: ["nomic-embed-text"]
          gpu_enabled: true

    # Infrastructure & Support Servers
    devops:
      hosts:
        cx-devops:
          ansible_host: 192.168.10.36
          ansible_user: agent0
          server_role: devops
          services: [jenkins, terraform, ansible]

    development:
      hosts:
        cx-dev:
          ansible_host: 192.168.10.33
          ansible_user: agent0
          server_role: development
          ram: 125GB
          storage: 21.8TB

    test:
      hosts:
        cx-test:
          ansible_host: 192.168.10.34
          ansible_user: agent0
          server_role: testing
          ram: 125GB
          storage: 21.8TB

    metrics:
      hosts:
        cx-metrics:
          ansible_host: 192.168.10.37  # Corrected IP
          ansible_user: agent0
          server_role: monitoring
          ram: 32GB
          storage: 21.9TB
          services: [prometheus, grafana]

  vars:
    ansible_user: agent0
    ansible_ssh_private_key_file: ~/.ssh/id_rsa
    python_interpreter: /opt/citadel/env/bin/python
